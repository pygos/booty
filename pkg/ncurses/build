VERSION="6.1"
SRCDIR="ncurses-${VERSION}"
TARBALL="${SRCDIR}.tar.gz"
URL="https://ftp.gnu.org/gnu/ncurses"
SHA256SUM="aa057eeeb4a14d470101eff4597d5833dcef5965331be3528c08d99cebaa0d17"
DEPENDS="toolchain"

prepare() {
	return
}

build() {
	run_configure "$1" --with-shared --without-debug --without-ada \
		      --enable-widec --with-pkg-config-libdir=/lib/pkgconfig \
		      --enable-pc-files --disable-stripping

	make -j $NUMJOBS
}

deploy() {
	make DESTDIR="$SYSROOT" install
	rm "$SYSROOT/bin/ncursesw6-config"
	ln -s libncursesw.so.6 "$SYSROOT/lib/libcurses.so"

	rm "$SYSROOT/lib/libformw.a"
	rm "$SYSROOT/lib/libmenuw.a"
	rm "$SYSROOT/lib/libncurses++w.a"
	rm "$SYSROOT/lib/libncursesw.a"
	rm "$SYSROOT/lib/libpanelw.a"
}
